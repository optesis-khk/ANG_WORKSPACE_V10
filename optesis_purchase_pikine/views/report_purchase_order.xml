<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_purchase_order_template">
            <t t-call="optesis_purchase_pikine.modern-feelings-page-layout">
                <div style="padding: 20px;">
                    <div>
                        <table style="width:500px">
                                        <tr>
                                            <td>
                                                <tr>
                                                    <td style="border-right:1px grey solid">Références</td>
                                                    <td style="padding-right:5px;text-align:left">
                                                        <span t-field="o.partner_ref"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="border-right:1px grey solid">Fournisseur</td>
                                                    <td style="padding-left:5px;text-align:left">
                                                        <span t-field="o.partner_id.name"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="border-right:1px grey solid">Service demandeur</td>
                                                    <td style="padding-left:5px;text-align:left">
                                                        <span t-field="o.service_id"/>
                                                    </td>
                                                </tr>
                                            </td>
                                        </tr>
                        </table>
                    </div>
                    <div style="border-right:1px solid;border-left:1px solid;border-top:1px solid;padding:2px;min-height:665px">
                        <table style="border-top:1px solid;border-left:1px solid;border-right:1px solid;width:100%">
                            <thead>
                                <tr>
                                    <td style="width:120px;border-right: 1px solid black;border-bottom: 1px solid black;font-weight: bold">N° D'ORDRE</td>
                                    <td style="width:290px;text-align: left;padding-left: 5px;border-right: 1px solid black;border-bottom: 1px solid black;font-weight: bold">DESIGNATION</td>
                                    <td style="width:90px;border-right: 1px solid black;border-bottom: 1px solid black;text-align:center;font-weight: bold">UNITE</td>
                                    <td style="width:90px;border-right: 1px solid black;border-bottom: 1px solid black;font-weight: bold">QUANTITE</td>
                                    <td style="width:140px;border-right: 1px solid black;border-bottom: 1px solid black;font-weight:bold;text-align:center">PRIX UNITAIRE</td>
                                    <td style="width:120px;border-bottom: 1px solid black;text-align:center;font-weight: bold">MONTANT</td>
                                </tr>
                            </thead>
                            <tbody>

                                <tr t-foreach="o.order_line" t-as="l">
                                    <td style="border-right:1px solid grey;height:20px;border-bottom: 1px solid grey">
                                        <span t-field="l.product_id.default_code"></span>
                                    </td>
                                    <td style="border-right:1px solid grey;height:20px;border-bottom: 1px solid grey">
                                        <span t-field="l.product_id"></span>
                                    </td>
                                    <td style="border-right:1px solid grey;text-align:center;border-bottom: 1px solid grey">
                                        ---
                                    </td>
                                    <td style="text-align:center;border-right:1px solid grey;border-bottom: 1px solid grey">
                                        <span t-field="l.product_qty"></span>
                                    </td>
                                    <td style="text-align:right;border-right:1px solid grey;border-bottom: 1px solid grey">
                                        <span t-field="l.price_unit"/>
                                    </td>
                                    <td style="border-bottom: 1px solid grey;text-align:right">
                                        <span t-field="l.price_subtotal"
                                              t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                    <div style="padding-bottom:2px;padding-top:2px;border:1px black solid;">
                        <table>
                            <tr>
                                <td style="font-weight: bold;font-style: italic">TOTAL</td>
                                <td style="font-weight: bold;font-style: italic;padding-left:690px">
                                    <span t-field="o.amount_total"
                                          t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div style="border-top:1px solid">
                        <span style="font-weight: bold">Arrété le présent Bon de Commande à la somme de : </span><span t-field="o.amount_text"></span>
                    </div>
                    <div style="padding-top:20px">
                        <span><u>Le pharmacien</u></span>
                        <span style="padding-left:210px"><u>Le Contrôleur de Gestion</u></span>
                        <span style="padding-left:250px"><u>Le Directeur</u></span>
                    </div>

                </div>
            </t>
        </template>
        <template id="report_purchase_order">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="optesis_purchase_pikine.report_purchase_order_template" t-lang="o.partner_id.lang" />
                </t>
            </t>
        </template>
    </data>
</odoo>